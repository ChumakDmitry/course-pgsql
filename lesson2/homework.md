### Домашнее задание 2

1. открыть консоль и зайти по ssh на ВМ
2. открыть вторую консоль и также зайти по ssh на ту же ВМ (можно в докере 2 сеанса)
3. запустить везде psql из под пользователя postgres
4. сделать в первой сессии новую таблицу и наполнить ее данными
```
CREATE TABLE costs (i serial, cost int);
INSERT INTO costs(cost) VALUES(100);
INSERT INTO costs(cost) VALUES(200);
INSERT INTO costs(cost) VALUES(300);
```
5. посмотреть текущий уровень изоляции:
```
show transaction isolation level; 
transaction_isolation 
-----------------------
 read committed
```
6. начать новую транзакцию в обеих сессиях с дефолтным (не меняя) уровнем
изоляции
`BEGIN;`
7. в первой сессии добавить новую запись
`INSERT INTO costs(cost) VALUES(400);`
8. сделать запрос на выбор всех записей во второй сессии
`SELECT * FROM costs`
9. видите ли вы новую запись и если да то почему? После задания можете сверить
правильный ответ с эталонным (будет доступен после 3 лекции)
`Новой записи нет, так как уровень изоляции "read commited" показывает только те данные, которые были зафиксированы до начала запроса`
10. завершить транзакцию в первом окне
`COMMIT;`
11. сделать запрос на выбор всех записей второй сессии
12. видите ли вы новую запись и если да то почему?
`Новую запись видно т.к. данные были зафиксированы в базу.`
13. завершите транзакцию во второй сессии
14. начать новые транзакции, но уже на уровне repeatable read в ОБЕИХ сессиях
```
set transaction isolation level repeatable read;
BEGIN;
```
15. в первой сессии добавить новую запись
`INSERT INTO costs(cost) VALUES(500);`
16. сделать запрос на выбор всех записей во второй сессии
17. видите ли вы новую запись и если да то почему?
`Изменений нет во второй транзакции, т.к. уровень изоляции "repetable read" видит только те данные, которые были зафиксированы до начала транзакции и не видит изменения, внесённые другими транзакциями в ходе выполнения данной`
18. завершить транзакцию в первом окне
19. сделать запрос во выбор всех записей второй сессии
20. видите ли вы новую запись и если да то почему?
`При данном уровне изоляции транзакция видит "снимок" базы, до начала выполнения транзакции`
